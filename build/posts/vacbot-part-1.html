<!doctype html>
<html><head><link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/zenburn.min.css"/><link rel="stylesheet" type="text/css" href="../css/post.css"/><link rel="icon" type="image/png" href="../public/favicon.png"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Vacbot Part 1</title></head><body><header><a href="../" class="back">« Back</a><h1>Vacbot Part 1</h1></header><time>March 27, 2016</time><article><p>My&nbsp;wonderful wife recently bought me a&nbsp;iCreate 2 hackable roomba. She knows me well…</p>
<p>Many different ideas came to&nbsp;my mind while thinking about what to&nbsp;do with it. Most of&nbsp;them were a&nbsp;bit too grand scale, so I&nbsp;decided to&nbsp;get a&nbsp;feel for&nbsp;the roomba's hackability with a&nbsp;simple project first. I&nbsp;will create a&nbsp;drivable roomba with sight.</p>
<p>In&nbsp;order to&nbsp;start creating the&nbsp;robot, I&nbsp;did a&nbsp;lot of&nbsp;research and&nbsp;decided to&nbsp;use a&nbsp;raspberry pi for&nbsp;the "brain" of&nbsp;the bot instead of&nbsp;an arduino (which I&nbsp;had used before) because I&nbsp;needed WiFi, more <abbr>CPU</abbr>, easy power and&nbsp;serial inputs.</p>
<p>The&nbsp;pi setup was pretty straightforward. Installing the&nbsp;OS was simple with <abbr>NOOBS</abbr>. The&nbsp;<abbr>USB</abbr> WiFi adapter was easy to&nbsp;plugin and&nbsp;get <abbr>DHCP</abbr>, although getting a&nbsp;static IP took a&nbsp;lot of&nbsp;digging through forums to&nbsp;figure out and&nbsp;I am still not sure I&nbsp;completely understand what I&nbsp;did. But it works! Getting <abbr>SSH</abbr> setup was easy and&nbsp;made my&nbsp;life much easier.</p>
<p>Installing the&nbsp;camera to&nbsp;the pi was simple after watching an&nbsp;installation video. And&nbsp;thankfully there are easy to&nbsp;use programs already built for&nbsp;the module.</p>
<p>Getting anything to&nbsp;control the&nbsp;vacuum was a&nbsp;headache. I&nbsp;tried first with my&nbsp;mac, which for&nbsp;whatever reason was not creating a&nbsp;<abbr>TTY</abbr> to&nbsp;use for&nbsp;communicating. Thankfully, the&nbsp;pi did create one. Although, when trying to&nbsp;use any of&nbsp;the npm modules built for&nbsp;communication, they didn't work. After digging through the&nbsp;specs of&nbsp;the iCreate 2, it turns out the&nbsp;baud rate is different than the&nbsp;original iCreate. After forking one of&nbsp;the modules and&nbsp;updating the&nbsp;rate, I&nbsp;was good to&nbsp;go.</p>
<p>Next was figuring out video streaming. Lot's of&nbsp;people accomplished this in&nbsp;many different ways, but I&nbsp;think I&nbsp;found a&nbsp;great solution. This <a href="https://github.com/jacksonliam/mjpg-streamer">project</a> is capable of&nbsp;doing everything I&nbsp;needed. I&nbsp;cloned and&nbsp;compiled it on&nbsp;the pi and&nbsp;it already has a&nbsp;raspberry pi camera module interface built in! With one command, I&nbsp;was streaming high quality video at&nbsp;30 fps.</p>
<p>Now to&nbsp;find a&nbsp;way to&nbsp;use the&nbsp;power from the&nbsp;iCreate 2's serial cable to&nbsp;power my&nbsp;raspberry pi B+…</p>
<p>I&nbsp;have some ideas, but since I&nbsp;am not an&nbsp;electrical engineer, I&nbsp;am not confident they will work. I&nbsp;plan on&nbsp;trying to&nbsp;use the&nbsp;power wires from the&nbsp;serial cable and&nbsp;using a&nbsp;buck converter to&nbsp;get a&nbsp;constant 5v to&nbsp;a micro usb cable which is plugged into the&nbsp;pi. Then (this is where it gets weird) I&nbsp;want to&nbsp;take the&nbsp;data wires (and&nbsp;ground I&nbsp;think) and&nbsp;splice them to&nbsp;a <abbr>USB</abbr> A&nbsp;cable which I&nbsp;can plug into the&nbsp;pi for&nbsp;communicating.</p>
<p>Not sure if this will work, but I&nbsp;will find out when the&nbsp;parts arrive!</p>
<p>There is a&nbsp;lot more to&nbsp;this than I&nbsp;thought, but things are slowly coming together.</p>
<p>Next part coming soon.</p>
</article></body></html>